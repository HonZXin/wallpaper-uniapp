{"version":3,"file":"index.js","sources":["pages/index/index.vue","D:/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvaW5kZXgvaW5kZXgudnVl"],"sourcesContent":["<template>\r\n\t<view class=\"homeLayout pageBg\">\r\n\t\t<custom-nav-bar title=\"推荐\"></custom-nav-bar>\r\n\t\t<!-- 轮播图 -->\r\n\t\t<view class=\"banner\">\r\n\t\t\t<swiper indicator-dots indicator-color=\"rgba(255, 255, 255, 0.5)\" \r\n\t\t\tindicator-active-color=\"#fff\" circular autoplay>\r\n\t\t\t\t<swiper-item v-for=\"item in bannerList\" :key=\"item._id\">\r\n\t\t\t\t\t\r\n\t\t\t\t\t<navigator v-if=\"item.target === 'miniProgram'\" \r\n\t\t\t\t\t:url=\"item.url\" \r\n\t\t\t\t\tclass=\"like\"\r\n\t\t\t\t\ttarget=\"miniProgram\"\r\n\t\t\t\t\t:app-id=\"item.appid\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<image :src=\"item.picurl\" mode=\"aspectFill\"></image>\r\n\t\t\t\t\t</navigator>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<navigator v-else :url=\"`/pages/classlist/classlist?${item.url}`\" class=\"like\">\r\n\t\t\t\t\t\t<image :src=\"item.picurl\" mode=\"aspectFill\"></image>\r\n\t\t\t\t\t</navigator>\r\n\t\t\t\t</swiper-item>\r\n\t\t\t</swiper>\r\n\t\t</view>\r\n\t\t\r\n\t\t<!-- 公告 -->\r\n\t\t<view class=\"notice\">\r\n\t\t\t<view class=\"left\">\r\n\t\t\t\t<uni-icons type=\"sound-filled\" size=\"20\">\r\n\t\t\t\t\t<text class=\"text\">公告</text>\r\n\t\t\t\t</uni-icons>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"center\">\r\n\t\t\t\t<swiper autoplay circular interval=\"1500\" duration=\"300\" vertical>\r\n\t\t\t\t\t<swiper-item v-for=\"item in noticeList\" :key=\"item._id\">\r\n\t\t\t\t\t\t<navigator :url=\"'/pages/notice/detail?id='+item._id\">\r\n\t\t\t\t\t\t\t{{item.title}}\r\n\t\t\t\t\t\t</navigator>\r\n\t\t\t\t\t</swiper-item>\r\n\t\t\t\t</swiper>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"right\">\r\n\t\t\t\t<uni-icons type=\"right\" size=\"16\" color=\"#333\"></uni-icons>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t\r\n\t\t<!-- 每日推荐 -->\r\n\t\t<view class=\"select\">\r\n\t\t\t<!-- 标题 -->\r\n\t\t\t<common-title>\r\n\t\t\t\t<template #name>每日推荐</template>\r\n\t\t\t\t<template #custom>\r\n\t\t\t\t\t<view class=\"date\">\r\n\t\t\t\t\t\t<uni-icons type=\"calendar\" size=\"18\"></uni-icons>\r\n\t\t\t\t\t\t<view class=\"text\">\r\n\t\t\t\t\t\t\t<uni-dateformat :date=\"Date.now()\" format=\"dd日\"></uni-dateformat>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</template>\r\n\t\t\t</common-title>\r\n\t\t\t<!-- 图片 -->\r\n\t\t\t<view class=\"content\">\r\n\t\t\t\t<scroll-view scroll-x>\r\n\t\t\t\t\t<view class=\"box\" v-for=\"item in randomList\" :key=\"item._id\" \r\n\t\t\t\t\t@click=\"goPreview(item._id)\">\r\n\t\t\t\t\t\t<image :src=\"item.smallPicurl\" mode=\"aspectFill\"></image>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</scroll-view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t\r\n\t\t<!-- 专题精选 -->\r\n\t\t<view class=\"theme\">\r\n\t\t\t<!-- 标题 -->\r\n\t\t\t<common-title>\r\n\t\t\t\t<template #name>专题精选</template>\r\n\t\t\t\t<template #custom>\r\n\t\t\t\t\t<navigator url=\"/pages/classify/classify\" open-type=\"reLaunch\" class=\"more\">More+</navigator>\r\n\t\t\t\t</template>\r\n\t\t\t</common-title>\r\n\t\t\t<!-- 图片 -->\r\n\t\t\t<view class=\"content\">\r\n\t\t\t\t<theme-item v-for=\"item in classifyList\" \r\n\t\t\t\t:key=\"item._id\"\r\n\t\t\t\t:item=\"item\"\r\n\t\t\t\t>\r\n\t\t\t\t</theme-item>\r\n\t\t\t\t<theme-item :isMore=\"true\"></theme-item>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script setup>\nimport { ref } from 'vue'\r\nimport { onShareAppMessage,onShareTimeline } from \"@dcloudio/uni-app\"\r\nimport {apiGetBanner,apiGetDayRandom,apiGetNotice,apiGetclassify} from '@/api/apis.js'\n\r\n\r\nconst bannerList= ref([]);\nconst randomList = ref([]);\nconst noticeList = ref([]);\r\nconst classifyList = ref([])\r\n\r\nconst getBanner = async ()=>{\n\tlet res =await apiGetBanner();\t\n\tbannerList.value = res.data;\t\n}\n\nconst getDayRandom = async ()=>{\n\tlet res =await apiGetDayRandom();\n\trandomList.value = res.data\t\n}\n\nconst getNotice = async ()=>{\n\tlet res =await apiGetNotice({select:true});\n\tnoticeList.value = res.data\n}\r\n\r\nconst getClassify = async ()=>{\r\n\tlet res =await apiGetclassify({select:true});\r\n\tclassifyList.value = res.data\r\n}\r\n\t\r\n\t\r\n\r\n//跳转到预览页面\r\nconst goPreview = (id)=>{\r\n\tuni.setStorageSync(\"storgClassList\",randomList.value)\r\n\tuni.navigateTo({\r\n\t\turl:\"/pages/preview/preview?id=\"+id\r\n\t})\r\n}\r\n\r\n//分享给好友\r\nonShareAppMessage((e)=>{\r\n\treturn {\r\n\t\ttitle:\"菜包粿壁纸\",\r\n\t\tpath:\"pages/index/index\"\r\n\t}\r\n})\r\n\r\n//分享朋友圈\r\nonShareTimeline(()=>{\r\n\treturn {\r\n\t\ttitle:\"菜包粿壁纸\",\r\n\t}\r\n})\r\n\r\n\r\ngetBanner()\r\ngetDayRandom()\r\ngetNotice()\r\ngetClassify()\r\n\t\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.homeLayout {\r\n\t// 轮播图\r\n\t.banner {\r\n\t\twidth: 750rpx;\r\n\t\tpadding: 30rpx 0;\r\n\t\tswiper {\r\n\t\t\twidth: 750rpx;\r\n\t\t\theight: 340rpx;\r\n\t\t\t&-item {\r\n\t\t\t\twidth: 100%;\n\t\t\t\theight: 100%;\r\n\t\t\t\tpadding: 0 30rpx;\r\n\t\t\t\t.like {\r\n\t\t\t\t\twidth: 100%;\r\n\t\t\t\t\theight: 100%;\r\n\t\t\t\t\timage {\r\n\t\t\t\t\twidth: 100%;\r\n\t\t\t\t\theight: 100%;\r\n\t\t\t\t\tborder-radius: 10rpx;\r\n\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\t// 公告\r\n\t.notice {\r\n\t\twidth: 690rpx;\r\n\t\theight: 80rpx;\r\n\t\tbackground: #f9f9f9;\r\n\t\tmargin: 0 auto;\r\n\t\tborder-radius: 80rpx;\r\n\t\tdisplay: flex;\r\n\t\tline-height: 80rpx;\r\n\t\t.left {\r\n\t\t\twidth: 140rpx;\r\n\t\t\tdisplay: flex;\r\n\t\t\talign-items: center;\r\n\t\t\tjustify-content: center;\r\n\t\t\t:deep(){\r\n\t\t\t\t.uni-icons {\r\n\t\t\t\t\tcolor: $brand-theme-color !important;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t.text {\r\n\t\t\t\tfont-weight: 600;\r\n\t\t\t\tcolor: $brand-theme-color;\r\n\t\t\t\tfont-size: 28rpx;\r\n\t\t\t}\r\n\t\t}\r\n\t\t.center {\r\n\t\t\tflex: 1;\r\n\t\t\tswiper {\r\n\t\t\t\theight: 100%;\r\n\t\t\t\t&-item {\r\n\t\t\t\t\theight: 100%;\r\n\t\t\t\t\tfont-size: 30rpx;\r\n\t\t\t\t\tcolor: #666;\r\n\t\t\t\t\toverflow: hidden;\r\n\t\t\t\t\twhite-space: nowrap;\r\n\t\t\t\t\ttext-overflow: ellipsis;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t.right {\r\n\t\t\twidth: 70rpx;\r\n\t\t\tdisplay: flex;\r\n\t\t\talign-items: center;\r\n\t\t\tjustify-content: center;\r\n\t\t}\r\n\t}\r\n\t\r\n\t// 每日推荐\r\n\t.select {\r\n\t\tpadding-top: 50rpx;\r\n\t\t.date {\r\n\t\t\tcolor: $brand-theme-color;\r\n\t\t\tdisplay: flex;\r\n\t\t\talign-items: center;\r\n\t\t\t:deep(){\r\n\t\t\t\t.uni-icons {\r\n\t\t\t\tcolor: $brand-theme-color !important;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t.text {\r\n\t\t\t\tmargin-left: 5rpx;\r\n\t\t\t}\r\n\t\t}\r\n\t\t.content {\r\n\t\t\twidth: 720rpx;\r\n\t\t\tmargin-left: 30rpx;\r\n\t\t\tmargin-top: 30rpx;\r\n\t\t\tscroll-view {\r\n\t\t\t\twhite-space: nowrap;\r\n\t\t\t\t.box {\r\n\t\t\t\t\twidth: 200rpx;\r\n\t\t\t\t\theight: 430rpx;\r\n\t\t\t\t\tdisplay: inline-block;\r\n\t\t\t\t\tmargin-right: 15rpx;\r\n\t\t\t\t\timage {\r\n\t\t\t\t\t\twidth: 100%;\r\n\t\t\t\t\t\theight: 100%;\r\n\t\t\t\t\t\tborder-radius: 10rpx;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t.box:last-child {\r\n\t\t\t\t\tmargin-right: 30rpx;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\t// 专题精选\r\n\t.theme {\r\n\t\tpadding: 50rpx 0;\r\n\t\t.more {\r\n\t\t\tfont-size: 32rpx;\r\n\t\t\tcolor: #888;\r\n\t\t}\r\n\t\t.content {\r\n\t\t\tmargin-top: 30rpx;\r\n\t\t\tpadding: 0 30rpx;\r\n\t\t\tdisplay: grid;\r\n\t\t\tgap: 15rpx;\r\n\t\t\tgrid-template-columns: repeat(3,1fr);\r\n\t\t}\r\n\t}\r\n}\r\n</style>\n","import MiniProgramPage from 'E:/uniapp-code/wallpaper-uniapp/pages/index/index.vue'\ntt.createPage(MiniProgramPage)"],"names":["ref","apiGetBanner","apiGetDayRandom","apiGetNotice","apiGetclassify","uni","onShareAppMessage","onShareTimeline"],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAmGA,UAAA,aAAAA,cAAAA,IAAA,CAAA,CAAA;AACA,UAAA,aAAAA,cAAAA,IAAA,CAAA,CAAA;AACA,UAAA,aAAAA,cAAAA,IAAA,CAAA,CAAA;AACA,UAAA,eAAAA,cAAA,IAAA,EAAA;AAEA,UAAA,YAAA,YAAA;AACA,UAAA,MAAA,MAAAC,SAAAA;AACA,iBAAA,QAAA,IAAA;AAAA,IACA;AAEA,UAAA,eAAA,YAAA;AACA,UAAA,MAAA,MAAAC,SAAAA;AACA,iBAAA,QAAA,IAAA;AAAA,IACA;AAEA,UAAA,YAAA,YAAA;AACA,UAAA,MAAA,MAAAC,SAAA,aAAA,EAAA,QAAA,KAAA,CAAA;AACA,iBAAA,QAAA,IAAA;AAAA,IACA;AAEA,UAAA,cAAA,YAAA;AACA,UAAA,MAAA,MAAAC,SAAA,eAAA,EAAA,QAAA,KAAA,CAAA;AACA,mBAAA,QAAA,IAAA;AAAA,IACA;AAKA,UAAA,YAAA,CAAA,OAAA;AACAC,oBAAAA,MAAA,eAAA,kBAAA,WAAA,KAAA;AACAA,oBAAAA,MAAA,WAAA;AAAA,QACA,KAAA,+BAAA;AAAA,MACA,CAAA;AAAA,IACA;AAGAC,kBAAA,kBAAA,CAAA,MAAA;AACA,aAAA;AAAA,QACA,OAAA;AAAA,QACA,MAAA;AAAA,MACA;AAAA,IACA,CAAA;AAGAC,kBAAAA,gBAAA,MAAA;AACA,aAAA;AAAA,QACA,OAAA;AAAA,MACA;AAAA,IACA,CAAA;AAGA,cAAA;AACA,iBAAA;AACA,cAAA;AACA,gBAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACxJA,GAAG,WAAW,eAAe;"}